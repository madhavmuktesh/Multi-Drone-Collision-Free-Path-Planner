<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Multi-Drone Berlin Navigation - Presentation</title>
  <link rel="stylesheet" href="css/presentation.css" />
  <style>
    body {
      margin: 0;
      background: #0a0e27;
      color: #eee;
      font-family: 'Segoe UI', Arial, sans-serif;
      display: flex;
      height: 100vh;
    }
    #viewer-container {
      flex: 3;
      height: 100vh;
      position: relative;
    }
    #scene-title {
      position: absolute;
      top: 20px;
      left: 20px;
      background: rgba(32,48,96,0.7);
      padding: 12px 20px;
      border-radius: 10px;
      z-index: 10;
    }
    #viewer-controls {
      position: absolute;
      top: 20px;
      right: 20px;
      display: flex;
      gap: 12px;
      background: rgba(32,48,96,0.7);
      padding: 8px 12px;
      border-radius: 8px;
      align-items: center;
      z-index: 10;
    }
    .control-btn {
      cursor: pointer;
      color: #00d4ff;
      background: rgba(21,32,61,0.9);
      border: none;
      border-radius: 6px;
      padding: 6px 12px;
      font-weight: 500;
      transition: background 0.2s;
    }
    .control-btn:hover {
      background: #00d4ff22;
      color: #fff;
    }
    #scenario-select {
      padding: 6px 8px;
      border-radius: 6px;
      border: none;
      font-size: 1em;
      background: #0e1428;
      color: #00d4ff;
      cursor: pointer;
    }
    #loading {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%,-50%);
      color: #0ff;
      background: #253466cc;
      border-radius: 16px;
      padding: 18px 40px;
      font-size: 1.35em;
      z-index: 11;
    }
    #details-panel {
      flex: 1;
      height: 100vh;
      background: linear-gradient(180deg,#181b33 65%,#0e1428 100%);
      box-shadow: -6px 0 28px #06102480;
      padding: 24px 22px 16px 18px;
      overflow-y: auto;
      z-index: 5;
    }
    /* Add your full styling for details panel below */
    /* ... */
  </style>
</head>
<body>
  <!-- Left Pane -->
  <div id="viewer-container">
    <div id="scene-title">
      <h1>üöÅ Multi-Drone Path Planning - Berlin</h1>
      <p>Collision-Free Routes with Quantum-Inspired Optimization</p>
    </div>
    <div id="viewer-controls">
      <div class="control-btn" onclick="resetCamera()">üé• Reset View</div>
      <div class="control-btn" onclick="toggleAnimation()" id="animate-btn">‚ñ∂ Cinematic Tour</div>
      <div class="control-btn" onclick="startOrbitalView()">üîÑ Orbital View</div>
      <div class="control-btn" onclick="captureScreenshot()">üì∏ Screenshot</div>
      <select id="scenario-select" onchange="changeScenario()">
        <option value="Scenario_1_HeadOn_Central_Crossing">Scenario 1: HeadOn Central Crossing</option>
        <option value="Scenario_2_Altitude_Convergence_Conflict">Scenario 2: Altitude Convergence Conflict</option>
        <option value="Scenario_3_Offset_Crossing_Close_Miss">Scenario 3: Offset Crossing Close Miss</option>
        <option value="Scenario_4_MidAir_Overtake">Scenario 4: MidAir Overtake</option>
        <option value="Scenario_5_MultiAltitude_Stack_Conflict">Scenario 5: MultiAltitude Stack Conflict</option>
        <option value="Scenario_6_FourWay_Intersection">Scenario 6: FourWay Intersection</option>
        <option value="Scenario_7_Emergency_Descent_Intrusion">Scenario 7: Emergency Descent Intrusion</option>
        <option value="Scenario_8_Diagonal_WindDrift_Conflict">Scenario 8: Diagonal WindDrift Conflict</option>
        <option value="Scenario_9_Chain_Avoidance_Reaction">Scenario 9: Chain Avoidance Reaction</option>
        <option value="Scenario_10_LandingZone_Conflict">Scenario 10: LandingZone Conflict</option>
      </select>
    </div>
    <div id="loading">Loading Berlin scene...</div>
  </div>

  <!-- Right Pane -->
  <div id="details-panel">
    <div class="panel-header">
      <h2>üìä Route Analysis</h2>
      <p class="timestamp" id="timestamp"></p>
    </div>

    <div class="panel-section">
      <h3>üåê System Overview</h3>
      <div class="stat-grid">
        <div class="stat-item">
          <span class="stat-label">Total Drones</span>
          <span class="stat-value" id="total-drones">-</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Buildings</span>
          <span class="stat-value" id="total-buildings">-</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Total Distance</span>
          <span class="stat-value" id="total-distance">-</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Safety Radius</span>
          <span class="stat-value" id="safety-radius">-</span>
        </div>
      </div>
    </div>

    <div class="panel-section">
      <h3>üéØ Select Drone</h3>
      <div class="drone-buttons" id="drone-selector"></div>
    </div>

    <div class="panel-section" id="drone-details">
      <h3>üìç Drone <span id="selected-drone-id">0</span> Details</h3>
      <!-- Path Information -->
      <div class="detail-group">
        <h4>Path Information</h4>
        <div class="detail-row">
          <span class="detail-label">Waypoints:</span>
          <span class="detail-value" id="waypoints-count">-</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">Path Length:</span>
          <span class="detail-value" id="path-length">-</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">Straight Distance:</span>
          <span class="detail-value" id="straight-distance">-</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">Detour:</span>
          <span class="detail-value detour" id="detour">-</span>
        </div>
      </div>
      <!-- Altitude Profile -->
      <div class="detail-group">
        <h4>Altitude Profile</h4>
        <div class="detail-row">
          <span class="detail-label">Altitude Band:</span>
          <span class="detail-value" id="altitude-band">-</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">Mean Altitude:</span>
          <span class="detail-value" id="mean-altitude">-</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">Altitude Range:</span>
          <span class="detail-value" id="altitude-range">-</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">Vertical Movement:</span>
          <span class="detail-value" id="vertical-movement">-</span>
        </div>
      </div>
      <!-- Path Smoothness -->
      <div class="detail-group">
        <h4>Path Smoothness</h4>
        <div class="detail-row">
          <span class="detail-label">Avg Turn Angle:</span>
          <span class="detail-value" id="avg-angle">-</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">Max Turn Angle:</span>
          <span class="detail-value" id="max-angle">-</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">Sharp Turns:</span>
          <span class="detail-value" id="sharp-turns">-</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">Smoothness Score:</span>
          <span class="detail-value score" id="smoothness-score">-</span>
        </div>
      </div>
      <!-- Safety Metrics -->
      <div class="detail-group">
        <h4>Safety Metrics</h4>
        <div class="detail-row">
          <span class="detail-label">Building Collisions:</span>
          <span class="detail-value safety" id="building-collisions">-</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">Drone Collisions:</span>
          <span class="detail-value safety" id="drone-collisions">-</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">Min Clearance:</span>
          <span class="detail-value" id="min-clearance">-</span>
        </div>
      </div>
    </div>

    <div class="panel-section">
      <h3>‚ö° Performance</h3>
      <div class="performance-bars">
        <div class="perf-item">
          <span class="perf-label">Path Efficiency</span>
          <div class="perf-bar">
            <div class="perf-fill" id="efficiency-bar" style="width:0%"></div>
          </div>
          <span class="perf-value" id="efficiency-value">-</span>
        </div>
        <div class="perf-item">
          <span class="perf-label">Altitude Compliance</span>
          <div class="perf-bar">
            <div class="perf-fill" id="altitude-bar" style="width:0%"></div>
          </div>
          <span class="perf-value" id="altitude-value">-</span>
        </div>
        <div class="perf-item">
          <span class="perf-label">Smoothness</span>
          <div class="perf-bar">
            <div class="perf-fill" id="smoothness-bar" style="width:0%"></div>
          </div>
          <span class="perf-value" id="smoothness-value">-</span>
        </div>
      </div>
    </div>

    <div class="panel-footer">
      <p>‚úÖ All paths verified collision-free</p>
      <p>Quantum PSO Optimization: 50 particles √ó 400 iterations</p>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/controls/OrbitControls.js"></script>
  <script src="js/presentation-viewer.js"></script>
</body>
</html>
